(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{a3c2:function(t,e,a){"use strict";a("c615")},ab90:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{id:"q-app",view:"lHh Lpr lFf"}},[s("q-header",{staticClass:"glossy",class:t.drawerState?" bg-Mycolor":"bg-primary",staticStyle:{height:"150px","border-radius":"0 0 1rem 1rem"}},[s("q-toolbar",{staticClass:"justify-center"},[s("q-img",{staticClass:"shadow-7",staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:a("d683")}}),s("div",{staticClass:"fixed-top-right"},[s("UserAccount")],1)],1),s("div",{staticClass:"row"},[s("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"4.1rem",width:"4.1rem",margin:"0.4rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("67dc")}}),s("q-btn",{staticClass:"fixed-top-left",staticStyle:{height:"4.1rem",width:"4.1rem",margin:"0.4rem","border-radius":"0.5rem"},attrs:{to:"/Home"}}),s("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"-0.8rem","overflow-x":"scroll"}},[s("h5",{staticClass:"no-wrap",staticStyle:{padding:"0.5rem",margin:"2rem 1rem 0rem 1rem","border-radius":"0.5rem","background-color":"#193d5c","overflow-x":"scroll",height:"46px"}},[t._v("\n          Mantenimientos programados\n        ")])])],1)],1),s("q-page-container",[s("router-view"),s("Calendar",{staticStyle:{"margin-bottom":"3rem"}})],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-splitter",{staticStyle:{height:"100%","margin-bottom":"3rem"},attrs:{horizontal:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"}},[a("q-date",{staticStyle:{width:"100%","max-width":"30rem"},attrs:{color:t.drawerState?"blue-10":"light-blue-10",events:t.Eventos,"event-color":"orange-10"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]},proxy:!0},{key:"after",fn:function(){return[a("q-tab-panels",{attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("q-tab-panel",{attrs:{name:t.comparar}},[a("div",{staticClass:"text-h4 q-mb-md",class:t.drawerState?"text-blue-10":"text-light-blue-10"},[t._v("\n            "+t._s(t.date)+"\n          ")]),a("GridCards",{staticStyle:{"margin-top":"2rem","margin-bottom":"3rem"}})],1)],1)]},proxy:!0}]),model:{value:t.splitterModel,callback:function(e){t.splitterModel=e},expression:"splitterModel"}})],1)},n=[],o=(a("fb6a"),a("5319"),a("e83c")),l={components:{GridCards:o["a"]},data(){return{splitterModel:50,date:"",Eventos:[],Equipments:[]}},created(){setTimeout(this.cargarState,1),console.log("created",this.Equipos),this.Flags.currentRoute="/Calendar"},destroyed(){this.Equipos=this.EquiposAux},methods:{formato(t){return t.replace(/^(\d{4})-(\d{2})-(\d{2})$/g,"$1/$2/$3")}},computed:{comparar(){const t=t=>t===this.date;if(this.Eventos.some(t)){this.Equipos=this.EquiposAux,this.Equipments=[];for(var e=0;e<this.Equipos.length;e++)this.formato(this.Equipos[e].Siguiente_Mantenimiento)==this.date&&this.Equipments.push(this.Equipos[e]);return this.Equipos=this.Equipments,this.date}},cargarState(){this.Equipos=this.EquiposAux,this.Equipments=this.EquiposAux,this.date=(new Date).getFullYear().toString()+"-"+(new Date).getMonth()+"-"+(new Date).getDate().toString(),console.log(this.date);for(var t=0;t<this.Equipos.length;t++)" "!=this.Equipos[t].Siguiente_Mantenimiento&&this.Eventos.push(this.formato(this.Equipos[t].Siguiente_Mantenimiento));var e=new Date,a=[];this.Equipos.forEach((t=>{(" "!=t.Siguiente_Mantenimiento&&parseInt(t.Siguiente_Mantenimiento.slice(0,4))<=e.getFullYear()&&parseInt(t.Siguiente_Mantenimiento.slice(5,7))<=e.getMonth()+1&&parseInt(t.Siguiente_Mantenimiento.slice(8,10))<=e.getDate()||parseInt(t.Siguiente_Mantenimiento.slice(0,4))<=e.getFullYear()&&parseInt(t.Siguiente_Mantenimiento.slice(5,7))<e.getMonth()+1&&parseInt(t.Siguiente_Mantenimiento.slice(8,10))>e.getDate()||parseInt(t.Siguiente_Mantenimiento.slice(0,4))<e.getFullYear())&&a.push(t)})),a.length>0&&this.$q.notify({color:"orange-10",textColor:"white",timeout:1e3,icon:"warning",position:"center",message:`Hay ${a.length} equipos con mantenimienros pendientes`})},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},Flags:{get(){return this.$store.state.global.Flags},set(t){this.$store.commit("global/updateFlags",t)}},EquiposAux:{get(){return this.$store.state.cardState.EquiposAux}},Equipos:{get(){return this.$store.state.cardState.Equipos},set(t){this.$store.commit("cardState/updateEquipments",t)}}}},c=l,u=a("2877"),d=a("8562"),m=a("52ee"),p=a("adad"),h=a("823b"),g=a("eebe"),q=a.n(g),w=Object(u["a"])(c,r,n,!1,null,null,null),S=w.exports;q()(w,"components",{QSplitter:d["a"],QDate:m["a"],QTabPanels:p["a"],QTabPanel:h["a"]});var b=a("3a8f"),f={name:"CardsPage",components:{UserAccount:b["a"],Calendar:S},data(){return{leftDrawerOpen:!1}},computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},E=f,v=(a("a3c2"),a("4d5a")),x=a("e359"),y=a("65c6"),$=a("068f"),M=a("9c40"),C=a("09e3"),_=Object(u["a"])(E,s,i,!1,null,null,null);e["default"]=_.exports;q()(_,"components",{QLayout:v["a"],QHeader:x["a"],QToolbar:y["a"],QImg:$["a"],QBtn:M["a"],QPageContainer:C["a"]})},c615:function(t,e,a){}}]);