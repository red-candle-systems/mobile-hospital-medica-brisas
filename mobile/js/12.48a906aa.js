(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"096c":function(t,e,a){},5183:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-md"},[s("q-layout",{attrs:{id:"q-app-2",view:"lHh Lpr lFf"}},[s("q-header",{staticClass:"glossy",class:t.drawerState?"bg-Mycolor":"bg-primary",staticStyle:{height:"150px","border-radius":"0 0 1rem 1rem"}},[s("q-toolbar",{staticClass:"justify-center"},[s("q-img",{staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:a("5dfc")}}),s("div",{staticClass:"fixed-top-right"},[s("UserAccount")],1)],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2 col-2"},[s("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"4.1rem",width:"4.1rem",margin:"0.4rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("67dc")}}),s("q-btn",{staticClass:"fixed-top-left",staticStyle:{height:"4.1rem",width:"4.1rem",margin:"0.4rem","border-radius":"0.5rem"},attrs:{to:"/Home"}})],1),s("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"-0.8rem"}},[s("h5",{staticStyle:{padding:"0.5rem",margin:"2rem 1rem 0rem 1rem","border-radius":"0.5rem","background-color":"#193d5c"}},[t._v("\n            Detalles del usuario\n          ")])])])],1),s("q-page-container",{staticStyle:{"margin-bottom":"5rem"}},[s("UserDetail"),s("br")],1)],1)],1)},r=[],o=a("3a8f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"shadow-16 col-12",class:t.drawerState?"bg-grey-10":"bg-grey-4",staticStyle:{"border-radius":"0.5rem"}},[a("div",{staticClass:"column items-center",class:t.drawerState?"bg-grey-9":"bg-blue-10",staticStyle:{"border-radius":"0.6rem"}},[a("h5",{staticStyle:{color:"white"}},[t._v("Información básica")]),a("div",{staticClass:"row items-center justify-center",staticStyle:{overflow:"hidden",width:"120px",height:"120px","border-radius":"50%"}},[a("img",{staticStyle:{height:"120px"},attrs:{id:"Imagen",basic:"",src:t.ImageBase64}})]),1===t.$store.state.global.Usuario.rol||2===t.$store.state.global.Usuario.rol?a("q-btn",{staticStyle:{width:"33px",height:"33px","border-radius":"1rem","margin-top":"-1rem","margin-left":"6rem"},attrs:{unelevated:"",icon:"add_a_photo","text-color":"white"},on:{click:t.captureImage}}):t._e(),a("q-input",{staticClass:"inputStyle",staticStyle:{"text-color":"white"},attrs:{dark:"",color:"blue",type:"text",filled:"",readonly:"",label:"Nombre"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textNombre,callback:function(e){t.textNombre=e},expression:"textNombre"}}),a("q-input",{staticClass:"inputStyle",attrs:{dark:"",standout:"",label:"Correo Electrónico",type:"email",prefix:"Email:",readonly:1!==t.$store.state.global.Usuario.rol&&2!==t.$store.state.global.Usuario.rol},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.textCorreo,callback:function(e){t.textCorreo=e},expression:"textCorreo"}})],1),a("div",{staticClass:"row column items-center"},[a("q-input",{staticClass:"inputStyle",attrs:{color:"blue",type:"number",filled:"",standout:"",label:"Telefono",readonly:1!==t.$store.state.global.Usuario.rol&&2!==t.$store.state.global.Usuario.rol},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textTelefono,callback:function(e){t.textTelefono=e},expression:"textTelefono"}}),a("q-input",{staticClass:"inputStyle",attrs:{color:"blue",readonly:"",type:"text",filled:"",label:"Curp"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textCurp,callback:function(e){t.textCurp=e},expression:"textCurp"}}),a("q-input",{staticClass:"inputStyle",attrs:{color:"blue",type:"password",filled:"",standout:"",label:"Contraseña",readonly:1!==t.$store.state.global.Usuario.rol&&2!==t.$store.state.global.Usuario.rol},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textContraseña,callback:function(e){t.textContraseña=e},expression:"textContraseña"}}),a("q-select",{staticClass:"inputStyle",attrs:{filled:"",standout:"",options:t.options,label:"Tipo De Usuario",readonly:1!==t.$store.state.global.Usuario.rol},model:{value:t.TipoUsuario,callback:function(e){t.TipoUsuario=e},expression:"TipoUsuario"}}),a("q-btn-toggle",{staticStyle:{margin:"1rem"},attrs:{unelevated:"","toggle-color":t.modelServicio?"primary":"dark",color:"white","text-color":"dark",options:[{label:"Cuenta Activada",value:!0},{label:"Cuenta Desactivada",value:!1}],readonly:1!==t.$store.state.global.Usuario.rol},model:{value:t.modelServicio,callback:function(e){t.modelServicio=e},expression:"modelServicio"}})],1)]),a("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¡"+t._s(t.aviso)+"!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v("¡"+t._s(t.aviso2)+"!")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",to:"/UserCards",color:"primary"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"keyboard_return",color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("¿Seguro que deseas salir?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Salir",to:"/UserCards",color:"primary"}})],1)],1)],1),a("div",{staticClass:"glossy",staticStyle:{"background-color":"#1976d2","margin-top":"1rem",height:"0.2rem",width:"100%"}}),a("div",{staticClass:"float-right",staticStyle:{"margin-right":"-1rem"}},[1===t.$store.state.global.Usuario.rol||2===t.$store.state.global.Usuario.rol?a("q-btn",{staticClass:"btnActualizarStyle",attrs:{label:"Actualizar",color:"blue-10",push:"",icon:"upgrade"},on:{click:function(e){return t.ActualizarUsuario()}}}):t._e(),a("q-btn",{staticClass:"btnSalirStyle",attrs:{push:"",icon:"keyboard_backspace",label:"Salir",color:"blue-10"},on:{click:function(e){t.confirm=!0}}})],1)],1)},l=[],c=(a("e6cf"),a("5d36")),n=a("a6a3"),d={data(){return{textRol:this.$store.state.cardState.UserSelected[0].Rol,textNombre:this.$store.state.cardState.UserSelected[0].Nombre,textTelefono:this.$store.state.cardState.UserSelected[0].Telefono,textCorreo:this.$store.state.cardState.UserSelected[0].Correo,textCurp:this.$store.state.cardState.UserSelected[0].CURP,"textContraseña":this.$store.state.cardState.UserSelected[0].Password,TipoUsuario:this.$store.state.cardState.UserSelected[0].Rol,ImageBase64:this.$store.state.cardState.UserSelected[0].Foto,modelServicio:this.$store.state.cardState.UserSelected[0].Estatus,options:["Administrador","Auxiliar","Básico"],files:null,alert:!1,confirm:!1,aviso:"",aviso2:""}},created(){if(this.idUsuario=this.$store.state.cardState.UserSelected[0].ID_Usuario,null!=this.TipoUsuario)switch(this.TipoUsuario){case 1:this.TipoUsuario="Administrador";break;case 2:this.TipoUsuario="Auxiliar";break;case 3:this.TipoUsuario="Básico";break}},methods:{async ActualizarUsuario(){if(1==this.Usuario.rol||2==this.Usuario.rol||3==this.Usuario.rol){if(null!=this.TipoUsuario)switch(this.TipoUsuario){case"Administrador":this.textRol=1;break;case"Auxiliar":this.textRol=2;break;case"Básico":this.textRol=3;break;default:this.textRol=0}this.$q.loading.show({spinner:n["a"],spinnerColor:"indigo-10",spinnerSize:50,backgroundColor:"indigo-11",message:"Actualizando Usuario",messageColor:"indigo-10"}),this.compressImage();var t={Correo:this.$data.textCorreo,Password:this.$data.textContraseña,Telefono:this.textTelefono,Rol:this.$data.textRol,Estatus:this.$data.modelServicio,Foto:this.ImageBase64};try{await c["a"].updateUser(this.idUsuario,t);this.$data.aviso="Guardado exitosamente",this.$data.aviso2="Se ha generado su registro correctamente",this.$q.loading.hide()}catch(e){this.$data.aviso="No guardado",this.$data.aviso2="Parece que no ha ingresado todos los campos necesarios",this.$q.loading.hide()}this.$data.alert=!0}else this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para actualizar usuarios"})},compressImage(){const t=document.createElement("canvas"),e=document.getElementById("Imagen");let a=e.width,s=e.height;const r=200,o=200;a>s?a>o&&(s=Math.round(s*=o/a),a=o):s>r&&(a=Math.round(a*=r/s),s=r);var i=t.getContext("2d");t.width=a,t.height=s,i.drawImage(e,0,0,a,s),this.$data.ImageBase64=t.toDataURL("image/jpeg",.92)},captureImage(){navigator.camera.getPicture((t=>{this.ImageBase64=t}),(()=>{this.$q.notify("Could not access device camera.")}),{})}},computed:{Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},u=d,m=(a("a02c"),a("2877")),p=a("9c40"),h=a("27f9"),g=a("0016"),b=a("ddd8"),f=a("6a67"),S=a("24e8"),y=a("f09f"),x=a("a370"),v=a("4b7e"),C=a("cb32"),w=a("7f67"),U=a("eebe"),q=a.n(U),$=Object(m["a"])(u,i,l,!1,null,"611420f8",null),k=$.exports;q()($,"components",{QBtn:p["a"],QInput:h["a"],QIcon:g["a"],QSelect:b["a"],QBtnToggle:f["a"],QDialog:S["a"],QCard:y["a"],QCardSection:x["a"],QCardActions:v["a"],QAvatar:C["a"]}),q()($,"directives",{ClosePopup:w["a"]});var _={name:"EquipmentDetail",components:{UserAccount:o["a"],UserDetail:k},data(){return{leftDrawerOpen:!1,Numero:9}},computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},T=_,I=(a("6f08"),a("4d5a")),A=a("e359"),Q=a("65c6"),B=a("068f"),D=a("09e3"),N=Object(m["a"])(T,s,r,!1,null,null,null);e["default"]=N.exports;q()(N,"components",{QLayout:I["a"],QHeader:A["a"],QToolbar:Q["a"],QImg:B["a"],QBtn:p["a"],QPageContainer:D["a"]})},5991:function(t,e,a){},"6f08":function(t,e,a){"use strict";a("096c")},a02c:function(t,e,a){"use strict";a("5991")}}]);