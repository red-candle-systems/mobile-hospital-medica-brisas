(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"7e07":function(t,e,a){"use strict";a("e94a")},a828:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md"},[o("q-layout",{attrs:{id:"q-app-2",view:"lHh Lpr lFf"}},[o("q-header",{staticClass:"glossy",class:t.drawerState?"bg-Mycolor":"bg-primary",staticStyle:{height:"150px","border-radius":"0 0 1rem 1rem"}},[o("q-toolbar",{staticClass:"justify-center"},[o("q-img",{staticClass:"shadow-7",staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:a("5dfc")}}),o("div",{staticClass:"fixed-top-right"},[o("UserAccount")],1)],1),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-2 col-2"},[o("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"4.1rem",width:"4.1rem",margin:"0.4rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("67dc")}}),o("q-btn",{staticClass:"fixed-top-left",staticStyle:{height:"4.1rem",width:"4.1rem",margin:"0.4rem","border-radius":"0.5rem"},attrs:{to:"/Home"}})],1),o("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"-0.8rem"}},[o("h5",{staticStyle:{padding:"0.5rem",margin:"2rem 1rem 0rem 1rem","border-radius":"0.5rem","background-color":"#193d5c"}},[t._v("\n            Creación de un equipo\n          ")])])])],1),o("q-page-container",[o("EquipmentInput"),o("br")],1)],1)],1)},i=[],r=a("3a8f"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12",staticStyle:{"margin-right":"1rem","margin-top":"0.5rem"}},[a("div",{staticClass:"row q-col-gutter-x-xs q-col-gutter-y-lg"},[a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-toolbar",[a("img",{staticClass:"imageStyle",attrs:{id:"Imagen",basic:"",src:t.ImageBase64}})]),a("div",{staticClass:"row my-custom-toggle",staticStyle:{"margin-top":"1.3rem","border-radius":"0.3rem",overflow:"hidden"}},[a("q-file",{staticClass:"col-9 FileStyle",staticStyle:{overflow:"hidden"},attrs:{label:"Elegir Fotografia","use-chips":""},nativeOn:{change:function(e){return t.subirFoto(e)}},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¡"+t._s(t.aviso)+"!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v(t._s(t.aviso2))]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"blue",to:"Guardado exitosamente"===t.aviso?"/Home":""}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"keyboard_return",color:"blue","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("¿Seguro que deseas salir?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"blue-10"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Salir",to:"/Home",color:"blue-10"}})],1)],1)],1)],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-btn",{staticStyle:{width:"100%","border-radius":"0.5rem",height:"55px"},attrs:{color:"blue-10",icon:"camera_alt",label:"Tomar Fotografía"},on:{click:t.captureImage}}),a("div",{staticClass:"glossy",staticStyle:{"background-color":"#1976d2","margin-top":"1rem",height:"0.2rem",width:"100%"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Numero de Serie"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textNumero,callback:function(e){t.textNumero=e},expression:"textNumero"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Numero de Control"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textNumeroControl,callback:function(e){t.textNumeroControl=e},expression:"textNumeroControl"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Equipo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textEquipo,callback:function(e){t.textEquipo=e},expression:"textEquipo"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Marca"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textMarca,callback:function(e){t.textMarca=e},expression:"textMarca"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Modelo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textModelo,callback:function(e){t.textModelo=e},expression:"textModelo"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Ubicacion"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textUbicacion,callback:function(e){t.textUbicacion=e},expression:"textUbicacion"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"number",filled:"",label:"Año de Fabricación"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textAñoFabricacion,callback:function(e){t.textAñoFabricacion=e},expression:"textAñoFabricacion"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Proveedor"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textProveedor,callback:function(e){t.textProveedor=e},expression:"textProveedor"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"text",filled:"",label:"Estatus"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textEstatus,callback:function(e){t.textEstatus=e},expression:"textEstatus"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{color:"blue",type:"number",filled:"",label:"Costo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}]),model:{value:t.texCosto,callback:function(e){t.texCosto=e},expression:"texCosto"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{filled:"",color:"blue",label:"Fecha de garantia"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD"},model:{value:t.dateGarantia,callback:function(e){t.dateGarantia=e},expression:"dateGarantia"}})],1)],1)]},proxy:!0}]),model:{value:t.dateGarantia,callback:function(e){t.dateGarantia=e},expression:"dateGarantia"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticStyle:{width:"100%"},attrs:{filled:"",color:"blue",label:"Fecha de Adquisición"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD"},model:{value:t.dateCompra,callback:function(e){t.dateCompra=e},expression:"dateCompra"}})],1)],1)]},proxy:!0}]),model:{value:t.dateCompra,callback:function(e){t.dateCompra=e},expression:"dateCompra"}})],1)])]),a("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¡"+t._s(t.aviso)+"!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v(t._s(t.aviso2))]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"blue",to:"Guardado exitosamente"===t.aviso?"/Home":""}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"keyboard_return",color:"blue","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("¿Seguro que deseas salir?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"blue"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Salir",to:"/Home",color:"blue"}})],1)],1)],1)],1),a("div",{staticClass:"row"},[a("div",{staticStyle:{width:"100%"}},[a("h5",{staticClass:"glossy text-center bg-blue-10",staticStyle:{color:"white","font-family":"Serif","margin-top":"1rem","border-radius":"0.5rem"}},[t._v("\n        Observaciones\n      ")]),a("div",{staticClass:"q-pa-md q-gutter-sm",staticStyle:{"margin-top":"-2.8rem"}},[a("q-editor",{attrs:{toolbar:[["bold","italic","strike","underline"]]},model:{value:t.editorvalue,callback:function(e){t.editorvalue=e},expression:"editorvalue"}}),a("div",{staticClass:"absolute-bottom-right max-top",staticStyle:{"margin-bottom":"2rem","margin-right":"-1rem"}},[a("q-btn",{staticStyle:{margin:"1rem 0rem 1rem 1rem",width:"140px"},attrs:{label:"Guardar",color:"blue-10",push:"",icon:"save"},on:{click:t._insertEquipment}}),a("q-btn",{staticStyle:{margin:"1rem",width:"140px"},attrs:{icon:"keyboard_backspace",push:"",label:"Salir",color:"blue-10"},on:{click:function(e){t.confirm=!0}}})],1)],1),a("div",{staticClass:"glossy",staticStyle:{"background-color":"#1976d2",height:"0.2rem",width:"100%","margin-bottom":"5rem","margin-right":"-1rem"}})])])])},l=[],c=(a("e6cf"),a("a6a3")),n={data(){return{textNumero:"",textEstatus:"",textNumeroControl:"",textProveedor:"",textEquipo:"",textModelo:"",textMarca:"",textUbicacion:"","textAñoFabricacion":"",texCosto:"",editorvalue:"",modelServicio:!0,modelGarantia:!0,dateGarantia:"",dateCompra:"",files:null,alert:!1,confirm:!1,aviso:"Registro Guardado",aviso2:"Su registro se ha generado exitosamente",ImageBase64:"404.jpg",canPost:!1}},methods:{ver(){},captureImage(){navigator.camera.getPicture((t=>{this.ImageBase64=t}),(()=>{this.$q.notify("Could not access device camera.")}),{})},compressImage(){const t=document.createElement("canvas"),e=document.getElementById("Imagen");let a=e.width,o=e.height;const i=200,r=200;a>o?a>r&&(o=Math.round(o*=r/a),a=r):o>i&&(a=Math.round(a*=i/o),o=i);var s=t.getContext("2d");t.width=a,t.height=o,s.drawImage(e,0,0,a,o),this.$data.ImageBase64=t.toDataURL("image/jpeg",.92)},subirFoto(){let t=this.$data.files,e=new FileReader;e.onloadend=t=>{this.ImageBase64=e.result},e.readAsDataURL(t)},async _insertEquipment(){this.$q.loading.show({spinner:c["a"],spinnerColor:"indigo-10",spinnerSize:50,backgroundColor:"indigo-11",message:"Subiendo Equipo",messageColor:"indigo-10"}),this.compressImage();for(var t=[{value:this.$data.textNumero,parameter:"Numero de serie"},{value:this.$data.textEquipo,parameter:"Nombre"},{value:this.$data.textModelo,parameter:"Modelo"},{value:this.$data.textMarca,parameter:"Marca"},{value:this.$data.textUbicacion,parameter:"Ubicacion"},{value:this.$data.textAñoFabricacion,parameter:"Año"},{value:this.$data.texCosto,parameter:"Costo"},{value:this.$data.dateCompra,parameter:"Fecha de compra"},{value:this.$data.dateGarantia,parameter:"Fecha de garantía"},{value:this.$data.editorvalue,parameter:"Observaciones"},{value:this.$data.textProveedor,parameter:"Numero de serie"},{value:this.$data.textNumeroControl,parameter:"Numero de control"},{value:this.$data.textEstatus,parameter:"Estatus"}],e=0;e<t.length;e++){if(console.log(t[e].value),""==t[e].value)return this.$q.loading.hide(),this.$q.notify({color:"orange-14",textColor:"white",timeout:1e3,icon:"warning",message:"No ingresaste "+t[e].parameter+" del equipo"}),void(this.canPost=!1);this.canPost=!0}if(this.canPost){var a={No_Serie:this.$data.textNumero,Nombre_Equipo:this.$data.textEquipo,Modelo:this.$data.textModelo,Marca:this.$data.textMarca,Foto:this.ImageBase64,Ubicacion:this.$data.textUbicacion,Estado_Garantia:!0,Estado_Servicio:!0,Ano_Equipo:parseInt(this.$data.textAñoFabricacion),Precio:parseInt(this.$data.texCosto),Fecha_Adquisicion:this.$data.dateCompra,Fecha_Garantia:this.$data.dateGarantia,Observaciones:this.$data.editorvalue,Proveedor:this.$data.textProveedor,Numero_Control:this.$data.textNumeroControl,Status:this.$data.textEstatus};let t,e=(new Date).getMonth().toString().length;1==e&&(t="0"+((new Date).getMonth()+1).toString());let i={Mes:t,"Año":(new Date).getFullYear()};console.log(i),this.MaintenanceSectionSelected=i,this.ReportSectionSelected=i;try{await this.$store.dispatch("cardState/postEquipmentAction",a),this.$data.aviso="Guardado exitosamente",this.$data.aviso2="Se ha generado su registro correctamente",this.$data.alert=!0,this.$q.loading.hide()}catch(o){this.$data.aviso="No guardado",this.$data.aviso2="Hubo un error tratando de crear el equipo, vuelva a intentarlo de nuevo",this.$data.alert=!0,this.$q.loading.hide()}}}},destroyed(){this.$q.loading.hide()},computed:{MaintenanceSectionSelected:{get(){return this.$store.state.cardState.MaintenanceSectionSelected},set(t){this.$store.commit("cardState/updateMaintenanceSectionSelected",t)}},ReportSectionSelected:{get(){return this.$store.state.cardState.ReportSectionSelected},set(t){this.$store.commit("cardState/updateReportSectionSelected",t)}}}},d=n,u=(a("eaea"),a("2877")),m=a("65c6"),p=a("7d53"),h=a("24e8"),g=a("f09f"),b=a("a370"),v=a("4b7e"),x=a("9c40"),f=a("cb32"),q=a("27f9"),y=a("0016"),S=a("7cbe"),C=a("52ee"),w=a("d66b"),$=a("7f67"),_=a("eebe"),k=a.n(_),E=Object(u["a"])(d,s,l,!1,null,"ca42aff2",null),M=E.exports;k()(E,"components",{QToolbar:m["a"],QFile:p["a"],QDialog:h["a"],QCard:g["a"],QCardSection:b["a"],QCardActions:v["a"],QBtn:x["a"],QAvatar:f["a"],QInput:q["a"],QIcon:y["a"],QPopupProxy:S["a"],QDate:C["a"],QEditor:w["a"]}),k()(E,"directives",{ClosePopup:$["a"]});var N={name:"EquipmentCreate",components:{UserAccount:r["a"],EquipmentInput:M},data(){return{leftDrawerOpen:!1,Numero:9}},computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},F=N,I=(a("7e07"),a("4d5a")),Q=a("e359"),A=a("068f"),P=a("09e3"),G=Object(u["a"])(F,o,i,!1,null,null,null);e["default"]=G.exports;k()(G,"components",{QLayout:I["a"],QHeader:Q["a"],QToolbar:m["a"],QImg:A["a"],QBtn:x["a"],QPageContainer:P["a"]})},e94a:function(t,e,a){},eaea:function(t,e,a){"use strict";a("f30e")},f30e:function(t,e,a){}}]);