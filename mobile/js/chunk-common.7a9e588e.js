(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0122":function(t,e,a){"use strict";a("5895")},"025d":function(t,e,a){},1459:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("q-btn-dropdown",{staticStyle:{"border-radius":"0.5rem"},attrs:{color:"yellow-10",label:"Filtro",size:"sm","dropdown-icon":"change_history"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Equipo")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"folder",color:"blue-5","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Equipo")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Ubicacion")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"pin_drop",color:"blue-5","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Ubicación")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Modelo")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"support",color:"blue-6","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Modelo")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Marca")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"copyright",color:"blue-7","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Marca")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Numero de Serie")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"tag",color:"blue-8","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("No. Serie")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Equipos inactivos")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"desktop_access_disabled",color:"blue-8","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Equipos Inactivos")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Mantenimientos Pendientes")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"event",color:"blue-9","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Mantenimientos Pendientes")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Equipos Reportados")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"report",color:"blue-10","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Equipos Reportados Este Mes")])],1)],1)],1)],1)],1)},s=[],o={methods:{onItemClick(t){this.TypeSearch=t}},computed:{TypeSearch:{get(){return this.$store.state.global.TypeSearch},set(t){this.$store.commit("global/updateFilter",t)}}},destroyed(){this.TypeSearch="Equipo"}},r=o,l=(a("8733"),a("2877")),n=a("f20b"),c=a("1c1c"),p=a("66e5"),u=a("4074"),d=a("cb32"),h=a("0170"),m=a("7f67"),g=a("eebe"),b=a.n(g),q=Object(l["a"])(r,i,s,!1,null,"f24abd70",null);e["a"]=q.exports;b()(q,"components",{QBtnDropdown:n["a"],QList:c["a"],QItem:p["a"],QItemSection:u["a"],QAvatar:d["a"],QItemLabel:h["a"]}),b()(q,"directives",{ClosePopup:m["a"]})},"145b":function(t,e,a){"use strict";a("be5b")},"14ac":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"column",staticStyle:{width:"100%"}},[a("q-toolbar",{staticClass:"text-white rounded-borders"},[a("q-space"),a("q-input",{staticClass:"shadow-9",staticStyle:{width:"100%","margin-left":"-2rem"},attrs:{disable:0===t.Equipos.length,dark:"",standout:"",label:"Buscar por "+this.$store.state.global.TypeSearch},on:{keyup:t.searchBy},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"},on:{click:t.searchBy}}),""!==t.text?a("q-icon",{attrs:{name:"clear"},on:{click:t.borrarYrefrescar}}):t._e(),a("FilterDropDown")]},proxy:!0}]),model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)])},s=[],o=(a("fb6a"),a("e6cf"),a("1459")),r={components:{FilterDropDown:o["a"]},data(){return{text:"",IDSEQUIPOS:[],cargar:!1}},methods:{async searchBy(){this.Equipos=this.EquiposAux;var t=[];if(""!=this.text&&"Equipos Reportados"!=this.text&&"Mantenimientos Pendientes"!=this.text&&"Equipos inactivos"!=this.text?("Marca"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>this.textoSimple(t.Marca).includes(this.textoSimple(this.$data.text))))),"Equipo"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>this.textoSimple(t.Nombre_Equipo).includes(this.textoSimple(this.$data.text))))),"Ubicacion"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>this.textoSimple(t.Ubicacion).includes(this.textoSimple(this.$data.text))))),"Modelo"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>t.Modelo.toLowerCase().includes(this.$data.text.toLowerCase())))),"Numero de Serie"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>t.No_Serie.toLowerCase().includes(this.$data.text.toLowerCase())))),0===t.length?(this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún Equipo, revisa si no hay equipos por cargar"}),this.text=""):this.Equipos=t):this.Equipos=this.EquiposAux,"Equipos Reportados"===this.$store.state.global.TypeSearch){for(var e=0;e<this.Equipos.length;e++)this.IDSEQUIPOS.includes(this.Equipos[e].ID_Equipo)&&t.push(this.Equipos[e]);this.IDSEQUIPOS.length>0?this.Equipos=t:this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún Equipo reportado"})}if("Equipos inactivos"===this.$store.state.global.TypeSearch){for(e=0;e<this.Equipos.length;e++)0==this.Equipos[e].Estado_Servicio&&t.push(this.Equipos[e]);0==t.length?(this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún Equipo inactivo"}),t=this.EquiposAux):this.Equipos=t}if("Mantenimientos Pendientes"===this.$store.state.global.TypeSearch){var a=new Date;await this.Equipos.forEach((e=>{(" "!=e.Siguiente_Mantenimiento&&parseInt(e.Siguiente_Mantenimiento.slice(0,4))<=a.getFullYear()&&parseInt(e.Siguiente_Mantenimiento.slice(5,7))<=a.getMonth()+1&&parseInt(e.Siguiente_Mantenimiento.slice(8,10))<=a.getDate()||parseInt(e.Siguiente_Mantenimiento.slice(0,4))<=a.getFullYear()&&parseInt(e.Siguiente_Mantenimiento.slice(5,7))<a.getMonth()+1&&parseInt(e.Siguiente_Mantenimiento.slice(8,10))>a.getDate()||parseInt(e.Siguiente_Mantenimiento.slice(0,4))<a.getFullYear())&&(t.push(e),console.log(e.Siguiente_Mantenimiento))})),console.log(t),t.length>0?this.Equipos=t:this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún mantenimiento pendiente"})}},textoSimple(t){const e="ÁáÉéÍíÓóÚúñÜüabcdefghijklmnopqrstuvwxyz",a="AAEEIIOOUUÑUUABCDEFGHIJKLMNOPQRSTUVWXYZ";if(null==t)return null;let i=t.split("");for(let s=0;s<i.length;s++)for(let t=0;t<e.length;t++)if(i[s]==e.charAt(t)){i[s]=a.charAt(t);break}return i.join("")},borrarYrefrescar(){this.$store.commit("global/updateFilter","Equipo"),this.text="",this.Equipos=this.EquiposAux}},created(){this.cargarReportes,0==this.Equipos.length?(this._getEquipos,console.log("Busca en la api"),this.Flags.currentRoute=""):(this.Equipos=this.EquiposAux,console.log("Equipos en created",this.Equipos))},updated(){this.cargarReportes,"Equipos Reportados"===this.$store.state.global.TypeSearch&&(this.text="Equipos Reportados"),"Mantenimientos Pendientes"===this.$store.state.global.TypeSearch&&(this.text="Mantenimientos Pendientes")},destroyed(){this.Equipos=this.EquiposAux,console.log("Equipos en destroyed",this.Equipos)},computed:{cargarReportes(){this.Reportes.forEach((t=>{t.Status&&this.IDSEQUIPOS.push(t.ID_Equipo)})),console.log(this.IDSEQUIPOS)},async _getEquipos(){console.log("Cargando equipos desde la api"),await this.$store.dispatch("cardState/getEquipmentsAction")},Equipos:{get(){return this.$store.state.cardState.Equipos},set(t){this.$store.commit("cardState/updateEquipments",t)}},EquiposAux:{get(){return this.$store.state.cardState.EquiposAux}},Reportes:{get(){return this.$store.state.cardState.Reportes},set(t){this.$store.commit("cardState/updateReportes",t)}},ReportesAux:{get(){return this.$store.state.cardState.ReportesAux}},Flags:{get(){return this.$store.state.global.Flags},set(t){this.$store.commit("global/updateFlags",t)}}}},l=r,n=a("2877"),c=a("65c6"),p=a("2c91"),u=a("27f9"),d=a("0016"),h=a("eebe"),m=a.n(h),g=Object(n["a"])(l,i,s,!1,null,null,null);e["a"]=g.exports;m()(g,"components",{QToolbar:c["a"],QSpace:p["a"],QInput:u["a"],QIcon:d["a"]})},"14cd":function(t,e,a){},"1e5a":function(t,e,a){},3333:function(t,e,a){},"3a8f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md divP"},[a("div",{staticClass:"q-gutter-md row"},[a("q-btn",{staticClass:"btnMenu",attrs:{"no-caps":"",color:"indigo-10",push:"",icon:"widgets",label:"Menu"}},[a("q-menu",{staticClass:"z-max",attrs:{"max-width":"350px",fit:""}},[a("q-list",{staticClass:"listDetail"},[a("q-item",[a("div",{staticClass:"row no-wrap"},[a("div",{staticClass:"column",staticStyle:{width:"80%"}},[a("div",{staticClass:"text-h6 q-mb-md"},[t._v("Mi cuenta")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 divNightMode"},[a("p",[t._v("Modo Oscuro")])]),a("div",{staticClass:"col-4"},[a("VuexToggle")],1)])]),a("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),a("div",{staticClass:"column items-center"},[a("q-avatar",{attrs:{size:"72px"}},[a("img",{attrs:{src:t.foto}})]),a("div",{staticClass:"text-subtitle1 q-mt-md q-mb-xs"},[t._v("\n                  "+t._s(t.UsuarioActual)+"\n                ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"blue",label:"Logout",push:"",size:"sm"},on:{click:function(e){return t.salir()}}})],1)],1)]),a("q-separator"),1==t.Usuario.rol||2==t.Usuario.rol?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/Home",clickable:""}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{attrs:{overline:""}},[t._v("EQUIPOS")])],1)],1):t._e(),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.verUsuarios()}}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{attrs:{overline:""}},[t._v("USUARIOS")])],1)],1),1==t.Usuario.rol||2==t.Usuario.rol?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/StatisticsSection",clickable:""}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{attrs:{overline:""}},[t._v("INDICADORES")])],1)],1):t._e(),1==t.Usuario.rol||2==t.Usuario.rol?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.verCalendario()}}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{attrs:{overline:""}},[t._v("CALENDARIO")])],1)],1):t._e(),1==t.Usuario.rol||2==t.Usuario.rol?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.verReportes()}}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{attrs:{overline:""}},[t._v("TODOS LOS REPORTES")])],1)],1):t._e(),1==t.Usuario.rol||2==t.Usuario.rol?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.verMantenimientos()}}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{attrs:{overline:""}},[t._v("TODOS LOS MANTENIMIENTOS")])],1)],1):t._e()],1)],1)],1)],1)])},s=[],o=a("5bc9"),r={components:{VuexToggle:o["a"]},data(){return{UsuarioActual:"",foto:"https://cdn.quasar.dev/img/boy-avatar.png"}},created(){this.UsuarioActual=this.Usuario.name,this.foto=this.Usuario.Foto},computed:{Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}},Flags:{get(){return this.$store.state.global.Flags},set(t){this.$store.commit("global/updateFlags",t)}}},methods:{verUsuarios(){try{"/UserCards/"!=this.$router.currentRoute.path&&this.$router.push({path:"/UserCards/"})}catch(t){}},verCalendario(){try{if(1!=this.Usuario.rol&&2!=this.Usuario.rol||"/Calendar/"==this.$router.currentRoute.path||this.$router.push({path:"/Calendar/"}),3==this.Usuario.rol)return void this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para ver el Calendario"})}catch(t){}},verReportes(){try{if((1==this.Usuario.rol||2==this.Usuario.rol)&&"/ReportsSection/"!=this.$router.currentRoute.path){var t={methods:{getAllReports:!0}};this.Flags=t,this.$router.push({path:"/ReportsSection/"})}if(3==this.Usuario.rol)return void this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para ver los reportes"})}catch(e){}},verMantenimientos(){try{if(1!=this.Usuario.rol&&2!=this.Usuario.rol||"/MaintenanceSection/"==this.$router.currentRoute.path||this.$router.push({path:"/MaintenanceSection/"}),3==this.Usuario.rol)return void this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para ver los reportes"})}catch(t){}},salir(){this.Usuario={},this.$router.push({path:"/"})}}},l=r,n=(a("9972"),a("2877")),c=a("9c40"),p=a("4e73"),u=a("1c1c"),d=a("66e5"),h=a("eb85"),m=a("cb32"),g=a("4074"),b=a("0170"),q=a("7f67"),v=a("714f"),S=a("eebe"),f=a.n(S),w=Object(n["a"])(l,i,s,!1,null,"401d6851",null);e["a"]=w.exports;f()(w,"components",{QBtn:c["a"],QMenu:p["a"],QList:u["a"],QItem:d["a"],QSeparator:h["a"],QAvatar:m["a"],QItemSection:g["a"],QItemLabel:b["a"]}),f()(w,"directives",{ClosePopup:q["a"],Ripple:v["a"]})},5895:function(t,e,a){},"5bc9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-toggle",{attrs:{color:"blue"},model:{value:t.drawerState,callback:function(e){t.drawerState=e},expression:"drawerState"}})],1)},s=[],o={computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},r=o,l=a("2877"),n=a("9564"),c=a("eebe"),p=a.n(c),u=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=u.exports;p()(u,"components",{QToggle:n["a"]})},"5dfc":function(t,e,a){t.exports=a.p+"img/logo2.1cc7db88.jpg"},"67dc":function(t,e,a){t.exports=a.p+"img/logo.abb119c7.png"},"7d65":function(t,e,a){"use strict";a("3333")},8733:function(t,e,a){"use strict";a("025d")},9972:function(t,e,a){"use strict";a("14cd")},a1ab:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"q-app"}},[a("div",[a("q-btn",{staticClass:"btnCmoFunciona",attrs:{label:"¿Cómo funciona?",color:"light-blue-10",icon:"format_list_numbered",push:""},on:{click:function(e){t.dialog=!0}}}),a("q-dialog",{attrs:{maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticClass:"bg-primary text-white cardStyle"},[a("q-bar",[a("q-space"),a("q-btn",{attrs:{dense:"",flat:"",icon:"minimize",disable:!t.maximizedToggle},on:{click:function(e){t.maximizedToggle=!1}}},[t.maximizedToggle?a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Minimize")]):t._e()],1),a("q-btn",{attrs:{dense:"",flat:"",icon:"crop_square",disable:t.maximizedToggle},on:{click:function(e){t.maximizedToggle=!0}}},[t.maximizedToggle?t._e():a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Maximize")])],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¿Cómo usar el equipo?")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-stepper",{ref:"stepper",staticClass:"shadow-9 bg-white",attrs:{color:"primary",animated:""},scopedSlots:t._u([{key:"navigation",fn:function(){return[a("q-stepper-navigation",[a("br"),a("q-btn",{attrs:{color:"primary",label:t.posicion===t.steps.length-1?"Finish":"Next"},on:{click:function(e){return t.$refs.stepper.next()}}}),t.posicion>0?a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){return t.$refs.stepper.previous()}}}):t._e(),1==t.Usuario.rol?a("StepperCreate",{staticClass:"float-right",attrs:{color:"indigo-9"}}):t._e()],1)]},proxy:!0}]),model:{value:t.posicion,callback:function(e){t.posicion=e},expression:"posicion"}},t._l(t.steps,(function(e,i){return a("q-step",{key:i,staticClass:"bg-dark",attrs:{name:i,title:e.Nombre,icon:"settings",done:t.posicion>i}},[t._v("\n              "+t._s(e.Detalle)+"\n            ")])})),1)],1)],1)],1)],1)])},s=[],o=(a("e6cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{staticClass:"btnActualizarStyle",attrs:{color:"deep-orange ",icon:"edit",push:""},on:{click:function(e){return t.Verify()}}}),a("q-dialog",{attrs:{maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¡Registro guardado!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v("Su registro ha sido guardado exitosamente")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup",value:3,expression:"3"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1),a("q-card",{staticClass:"bg-primary text-white cardStyle"},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Cerrar")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Lista de pasos")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-card",[a("q-separator"),a("q-card-section",{staticClass:"scroll cardSectionScroll"},[a("q-input",{staticClass:"InputStyle",attrs:{color:"blue",filled:"",label:"Titulo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.titulo,callback:function(e){t.titulo=e},expression:"titulo"}}),a("br"),a("q-input",{staticClass:"InputStyle",attrs:{color:"blue",filled:"",label:"Detalle"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.detalle,callback:function(e){t.detalle=e},expression:"detalle"}}),a("br"),a("q-btn",{staticClass:"float-right",attrs:{push:"",color:"positive"},on:{click:t.addNewStep}},[t._v(t._s(t.accion)+"\n            ")])],1),a("q-separator"),a("q-card-section",{staticClass:"bg-grey-10 text-white"},[a("q-list",{staticClass:"rounded-borders",attrs:{dark:"",bordered:"",separator:""}},t._l(t.Pasos,(function(e,i){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,attrs:{clickable:""},on:{click:function(a){return t.mandarInfo(e.Nombre,e.Detalle,i)}}},[a("q-item-section",{attrs:{avatar:""}},[t._v(t._s(e.Nombre))]),a("q-item-section",[t._v(t._s(e.Detalle))]),a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{size:"sm",color:"white"},on:{click:function(e){return t.eliminar(i)}}},[a("q-icon",{attrs:{name:"delete",color:"red"}})],1)],1)],1)})),1)],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Salir y Olvidar",color:"blue"}}),a("q-btn",{attrs:{flat:"",label:"Guardar todo y Aceptar",color:"blue"},on:{click:function(e){return t.subirapi()}}})],1)],1)],1)],1)],1)],1)}),r=[],l=(a("a434"),a("ddb0"),a("ded3")),n=a.n(l),c=a("5d36"),p=a("a6a3"),u={data(){return{alert:!1,dialog:!1,maximizedToggle:!0,basic:!1,fixed:!1,stepobj:{},titulo:"",detalle:"",Pasos:[],accion:"Agregar",BanderaActualizar:!1,posicion:0}},methods:{Verify(){if(1==this.Usuario.rol){this.$q.loading.show({spinner:p["a"],spinnerColor:"indigo-10",spinnerSize:50,backgroundColor:"indigo-11",message:"Cargando Pasos",messageColor:"indigo-10"});try{this.Steps.length>0?(this.BanderaActualizar=!0,this.Pasos=this.Steps):this.BanderaActualizar=!1,this.$q.loading.hide()}catch(t){this.BanderaActualizar=!1,this.$q.loading.hide()}this.dialog=!0}2!=this.Usuario.rol&&3!=this.Usuario.rol||this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para actualizar los pasos"})},eliminar(t){this.Pasos.splice(t,1)},mandarInfo(t,e,a){this.titulo=t,this.detalle=e,this.accion="Editar",this.banderaEditar=!0,this.posicion=a},async subirapi(){this.$q.loading.show({spinner:p["a"],spinnerColor:"indigo-10",spinnerSize:50,backgroundColor:"indigo-11",message:"Cargando solicitud",messageColor:"indigo-10"});try{var t={ID_Equipo:this.IDEM,Pasos:this.Pasos};if(0===t.Pasos.length){await c["a"].deleteStep(t.ID_Equipo)}else if(this.BanderaActualizar){console.log("VOY A ACTUALIZAR",t.Pasos);try{await c["a"].updateStep(t);this.Steps=t.Pasos}catch(e){}}else{try{await c["a"].createStep(t);this.Steps=[...t.Pasos]}catch(e){}console.log("VOY A CREAR")}this.$q.loading.hide(),this.$data.alert=!0}catch(e){this.$q.notify({position:"bottom",timeout:2500,color:"red",textColor:"white",type:"warning",message:"No se pudo realizar su solicitud"}),this.$q.loading.hide()}this.$store.commit("global/updateSteps",this.Pasos)},addNewStep(){""!==this.titulo&&""!==this.detalle?(this.stepobj.Nombre=this.titulo,this.stepobj.Detalle=this.detalle,this.banderaEditar?(this.accion="Agregar",this.Pasos[this.posicion]=n()({},this.stepobj),this.banderaEditar=!1):this.Pasos.push(this.stepobj),this.detalle="",this.titulo=""):this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"Ingresa correctamente el Titulo y el Detalle"}),this.stepobj={}}},computed:{IDEM:{get(){return this.$store.state.cardState.IDEM}},Steps:{get(){return this.$store.state.global.Steps},set(t){this.$store.commit("global/updateSteps",t)}},Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}}}},d=u,h=(a("a1b7"),a("2877")),m=a("9c40"),g=a("24e8"),b=a("f09f"),q=a("a370"),v=a("4b7e"),S=a("d847"),f=a("2c91"),w=a("05c0"),x=a("eb85"),y=a("27f9"),E=a("0016"),C=a("1c1c"),_=a("66e5"),$=a("4074"),k=a("7f67"),I=a("714f"),M=a("eebe"),Q=a.n(M),D=Object(h["a"])(d,o,r,!1,null,"4578a3ee",null),U=D.exports;Q()(D,"components",{QBtn:m["a"],QDialog:g["a"],QCard:b["a"],QCardSection:q["a"],QCardActions:v["a"],QBar:S["a"],QSpace:f["a"],QTooltip:w["a"],QSeparator:x["a"],QInput:y["a"],QIcon:E["a"],QList:C["a"],QItem:_["a"],QItemSection:$["a"]}),Q()(D,"directives",{ClosePopup:k["a"],Ripple:I["a"]});var N={components:{StepperCreate:U},created(){this.IDStepper=this.IDEM,this.StepperConsult()},updated(){this.steps=this.Steps},methods:{cerrarVentana(){},async StepperConsult(){try{const t=await c["a"].getSteps(this.IDStepper);""!=t.data?(this.Steps=await t.data.Pasos,this.steps=await t.data.Pasos,console.log("pasos",this.Steps)):(this.Steps=[],this.steps=[])}catch(t){this.Steps=[]}}},data(){return{dialog:!1,posicion:0,maximizedToggle:!1,steps:[],IDStepper:""}},props:{Nombre:{type:String,default:"Hola mundo"},Detalle:{type:String,default:"Titulo"}},computed:{IDEM:{get(){return this.$store.state.cardState.IDEM},set(t){this.$store.commit("cardState/updateIDEM",t)}},Steps:{get(){return this.$store.state.global.Steps},set(t){this.$store.commit("global/updateSteps",t)}},Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}}}},A=N,T=(a("0122"),a("f531")),R=a("87fe"),P=a("b19c"),z=Object(h["a"])(A,i,s,!1,null,"baa75888",null);e["a"]=z.exports;Q()(z,"components",{QBtn:m["a"],QDialog:g["a"],QCard:b["a"],QBar:S["a"],QSpace:f["a"],QTooltip:w["a"],QCardSection:q["a"],QStepper:T["a"],QStep:R["a"],QStepperNavigation:P["a"]}),Q()(z,"directives",{ClosePopup:k["a"]})},a1b7:function(t,e,a){"use strict";a("1e5a")},be5b:function(t,e,a){},d683:function(t,e,a){t.exports=a.p+"img/logo2.1cc7db88.jpg"},e83c:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row q-col-gutter-x-xs q-col-gutter-y-lg",staticStyle:{width:"100%","margin-bottom":"5.5rem"}},[0===t.Equipos.length?a("q-spinner-cube",{staticClass:"fixed-center",attrs:{indeterminate:"",reverse:"",size:"100px",thickness:1,color:t.drawerState?"white":"primary","track-color":"light-blue"}}):t._e(),0===t.Equipos.length?a("q-item-label",{staticClass:"fixed-center labelCargando text-white",staticStyle:{"background-color":"rgb(0, 0, 0, 0.5)","border-radius":"0.5rem",padding:"0.5rem"},attrs:{overline:""}},[t._v("Cargando equipos...")]):t._e(),t._l(t.Equipos,(function(e,i){return a("div",{key:i,staticClass:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},[a("card",{attrs:{warning:t.comparar(e.ID_Equipo),image:e.Foto,id:e.ID_Equipo,serie:e.No_Serie,name:e.Nombre_Equipo,modelo:e.Modelo,brand:e.Marca}})],1)}))],2),""==t.LastEvaluatedKey||"Equipo"!=this.$store.state.global.TypeSearch&&"Marca"!=this.$store.state.global.TypeSearch&&"Numero de Serie"!=this.$store.state.global.TypeSearch&&"Modelo"!=this.$store.state.global.TypeSearch?t._e():a("q-btn",{staticClass:"bg-positive text-white absolute-bottom",staticStyle:{"border-radius":"4rem 4rem 0 0",width:"100%","margin-bottom":"-2.5rem"},attrs:{icon:"expand_more",label:"ver mas equipos",push:"",loading:t.cargar},on:{click:function(e){return t.loadMore()}},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-cube")]},proxy:!0}],null,!1,1674974739)})],1)},s=[],o=(a("e6cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},on:{click:function(e){return t.SelectEquipment(t.id)}}},[a("q-card-section",{staticStyle:{width:"100%"},attrs:{horizontal:""}},[a("q-img",{staticClass:"col-5",staticStyle:{width:"115px",height:"115px",margin:"0.5rem","border-radius":"1rem"},attrs:{basic:"",src:t.image}}),a("q-card-section",{staticStyle:{width:"100%"}},[a("q-scroll-area",{staticClass:"qScrollStyle",attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[a("div",{staticClass:"row"},[a("q-item-label",{staticClass:"col text-weight-bolder qItemLabelStyle",class:t.drawerState?"clase-blanca":"clase-negra",staticStyle:{"font-size":"0.9rem"},attrs:{overline:""}},[t._v("Equipo:\n            ")]),a("div",{staticClass:"col"},[t._v(t._s(t.name))])],1),a("div",{staticClass:"row"},[a("q-item-label",{staticClass:"col text-weight-bolder",class:t.drawerState?"clase-blanca":"clase-negra",staticStyle:{"font-size":"0.9rem"},attrs:{overline:""}},[t._v("Marca:\n            ")]),a("div",{staticClass:"col"},[t._v(t._s(t.brand))])],1),a("div",{staticClass:"row"},[a("q-item-label",{staticClass:"col text-weight-bolder",class:t.drawerState?"clase-blanca":"clase-negra",staticStyle:{"font-size":"0.9rem"},attrs:{overline:""}},[t._v("Serie:\n            ")]),a("div",{staticClass:"col"},[t._v(t._s(t.serie))])],1),a("div",{staticClass:"row"},[a("q-item-label",{staticClass:"col text-weight-bolder qItemLabelStyle",class:t.drawerState?"clase-blanca":"clase-negra",attrs:{overline:""}},[t._v("Modelo:\n            ")]),a("div",{staticClass:"col"},[t._v(t._s(t.modelo))])],1)])],1),!0===t.warning?a("q-icon",{staticClass:"absolute-bottom-right",staticStyle:{margin:"0.3rem"},attrs:{size:"1rem",color:"deep-orange",name:"report_problem"}}):t._e()],1),a("q-separator"),a("q-card-actions",{staticClass:"justify-end"},[a("q-btn",{staticClass:"shadow-25",staticStyle:{"margin-right":"0.4rem","border-color":"white"},attrs:{label:"Ver Más",color:t.drawerState?"black":"light-blue-10",push:"",size:"sm",icon:"more"},on:{click:function(e){return t.SelectEquipment(t.id)}}}),a("q-btn",{staticClass:"shadow-25",attrs:{size:"sm",label:"Mantenimiento",color:t.drawerState?"black":"light-blue-10",push:"",icon:"engineering",to:"/MaintenanceSectionEquipment"},on:{click:function(e){return t._getMantenimientos(t.id)}}})],1)],1)],1)}),r=[],l=a("a1ab"),n={components:{Stepper:l["a"]},name:"Card",data(){return{maximizedToggle:!1,Steps:[{instruccion:"Hola mundo",TituloPaso:"Titulo"},{instruccion:"Hola mundo2",TituloPaso:"Titulo2"},{instruccion:"Hola mundo3",TituloPaso:"Titulo3"},{instruccion:"Hola mundo4",TituloPaso:"Titulo4"}],thumbStyle:{right:"-6px",borderRadius:"1px",backgroundColor:"#027be3",width:"2px",opacity:.75},barStyle:{right:"-6px",borderRadius:"9px",backgroundColor:"#027be3",width:"2px",opacity:.2}}},props:{name:{type:String,default:"Ventilador"},image:{type:String,default:"https://cdn.quasar.dev/img/parallax1.jpg"},brand:{type:String,default:"Hisense"},serie:{type:String,default:"1234"},modelo:{type:String,default:"1234"},id:{type:String},warning:{default:!1,type:Boolean}},methods:{SelectEquipment(t){var e=this.$store.state.cardState.Equipos.filter((e=>e.ID_Equipo==t));this.EquipoSelected=e,this.IDEM=t,"/EquipmentDetail/"!=this.$router.currentRoute.path&&this.$router.push({path:"/EquipmentDetail/"})},_getMantenimientos(t){var e=this.$store.state.cardState.Equipos.filter((e=>e.ID_Equipo==t));this.EquipoSelected=e,this.IDEM=t}},computed:{EquipoSelected:{get(){return this.$store.state.cardState.EquipoSelected},set(t){this.$store.commit("cardState/updateEquipoSelected",t)}},IDEM:{get(){return this.$store.state.cardState.IDEM},set(t){this.$store.commit("cardState/updateIDEM",t)}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},c=n,p=(a("145b"),a("2877")),u=a("f09f"),d=a("a370"),h=a("068f"),m=a("4983"),g=a("0170"),b=a("0016"),q=a("eb85"),v=a("4b7e"),S=a("9c40"),f=a("eebe"),w=a.n(f),x=Object(p["a"])(c,o,r,!1,null,"b0ded5b8",null),y=x.exports;w()(x,"components",{QCard:u["a"],QCardSection:d["a"],QImg:h["a"],QScrollArea:m["a"],QItemLabel:g["a"],QIcon:b["a"],QSeparator:q["a"],QCardActions:v["a"],QBtn:S["a"]});var E=a("5d36"),C={name:"LayoutDefault",components:{Card:y},data(){return{IDSEQUIPOS:[],cargar:!1}},created(){this._getReports,this.Equipos=this.EquiposAux},destroyed(){this.Equipos=this.EquiposAux},methods:{comparar(t){const e=e=>e===t;return this.IDSEQUIPOS.some(e)},async loadMore(){this.cargar=!0;try{await this.$store.dispatch("cardState/getMoreEquipmentsAction")}catch(t){this.$q.notify({color:"red-14",textColor:"white",icon:"wifi_off",message:"Ha ocurrido un error"+t})}this.cargar=!1}},computed:{async _getReports(){console.log("entraaaaaaaaaaaa a buscar reportes");let t=new Date,e=t.getMonth()+1;console.log(e.toString().length),1==e.toString().length&&(e="0"+e);var a={"Año":t.getFullYear(),Mes:e};const i=await E["a"].getAllReports(a);this.Reportes=await i.data;for(var s=0;s<this.Reportes.length;s++)this.Reportes[s].Status&&this.IDSEQUIPOS.push(this.Reportes[s].ID_Equipo)},Equipos:{get(){return this.$store.state.cardState.Equipos},set(t){this.$store.commit("cardState/updateEquipments",t)}},EquiposAux:{get(){return this.$store.state.cardState.EquiposAux}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},Reportes:{get(){return this.$store.state.cardState.Reportes},set(t){this.$store.commit("cardState/updateReportes",t)}},ReportesAux:{get(){return this.$store.state.cardState.ReportesAux}},LastEvaluatedKey:{get(){return this.$store.state.cardState.LastEvaluatedKey},set(t){this.$store.commit("cardState/updateLastEvaluatedKey",t)}}}},_=C,$=(a("7d65"),a("a6a3")),k=Object(p["a"])(_,i,s,!1,null,"67ef42d6",null);e["a"]=k.exports;w()(k,"components",{QSpinnerCube:$["a"],QItemLabel:g["a"],QBtn:S["a"]})}}]);